<html>
<head>
	<link href="../css/style.css" rel="stylesheet">
	<link href="../css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>

</head>
<body>
<div class="container">
  <div class="pageTitle">
    <div>
      Feedback Entries
    </div>
  </div>
  <div class="navLinkDiv">
    <a class="underlineHover" href="/" style="float: left;">Back</a>
    <a class="underlineHover" href="/login" style="float: right;">Sign Out</a>
  </div>
  <div style="clear: both;height: 20px;"></div>

    <table class="table">
      <thead>
        <tr>
						<th>#</th>
						<th>User</th>
						<th>Message</th>
						<th>Image</th>
						<th>Timestamp</th>
						<th>Status</th>
					</tr>
      </thead>
       <tbody>
					<tr th:each="temp : ${feedbackList}">
						 
						
						<td th:text="${temp.id}" />
						<td th:text="${temp.firstname}"/>
						<td th:text="${temp.feedbacktext}"/>
						<td th:text="${temp.feedbackimagename}"/>
						<td th:text="${temp.timestamp}"/>					
						
						
						
				 						<td style="width: 94px; ">
							<!-- Check if entry all ready approved -->
							<div th:if="${temp.feedbackApproved}">
								<div class="d-flex justify-content-around ">
									<div class="btn btn-success" role="alert">
										<div>Approved</div>
									</div>
									<div class="btn btn-danger" role="alert">
										<a th:href="@{'/deleteFeedback?id=' + ${temp.id}}"
											onclick="return confirm('Are you sure you want to delete this item?');">Delete</a>
									</div>
									<div class="btn btn-secondary" role="alert">
										<a class="disabled" th:href="@{'/editFeedback?id=' + ${temp.id}}"
											onclick="return confirm('Are you sure you want to edit this item?');">Edit</a>
									</div>
								</div>
							</div>
							<div th:unless="${temp.feedbackApproved} ">
								<div class="d-flex justify-content-around">
									<div class="btn btn-success" role="alert">
										<!-- Approve entry -->
										<a th:href="@{'/approveFeedback?id=' + ${temp.id}}">Approve</a>
									</div>
									<div class="btn btn-danger" role="alert">
										<!-- Cancel entry  -->
										<a th:href="@{'/deleteFeedback?id=' + ${temp.id}}"
											onclick="return confirm('Are you sure you want to delete this item?');">Delete
										</a>
									</div>
									<div class="btn btn-secondary" role="alert">
										<a th:href="@{'/editFeedback?id=' + ${temp.id}}"
											onclick="return confirm('Are you sure you want to edit this item?');">Edit</a>
									</div>
								</div>
							</div>
						</td>
					</tr>
				</tbody>       
    </table>
</div>
</body>
</html>