<html>
<head>
    <link href="../css/style.css" rel="stylesheet">
<link href="../css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>

<!------ Include the above in your HEAD tag ---------->
</head>

<body>
<div class="wrapper">

<div class="card-header bg-dark text-white p-3 ">
				<h2>
					<b>Edit Feedback </b>
				</h2>
			</div>
			<div class="card-body">

				<form action="#"  
					th:action="@{'/editedFeedback?id=' + ${feedback.id}}"
					method="POST" enctype="multipart/form-data">

					<div class="form-group">
					<div th:if="${error!=null}">
						<div class="alert alert-danger">Please select edit at least one Feedback option </div>
					</div>
					<div class="md-form" align="left">
							 <label for="feedbacktext">Existing Feedback comment</label>
							<textarea class="form-control" 
								th:text="${feedback.feedbackText}" readonly="readonly"></textarea>
						</div>
						<br>
						<div class="md-form" align="left">
							<i class="fas fa-pencil-alt prefix fa-lg "></i> <label
								for="feedbacktext">Please Update Feedback</label>
							<textarea class="form-control" id="feedbacktext"
								name="feedbacktext" maxlength="50" rows="3"></textarea>
						</div>
						<hr>
						<br>
						<div class="md-form" align="left" th:if="${feedback.feedbackImageName}">
								<a  th:href="@{'/getFeedbackImage?id=' + ${feedback.id}}"><b>Existing Feedback Image: </b> [[${feedback.feedbackImageName}]]</a>
						</div>
						<div th:unless="${feedback.feedbackImageName}">
							<div class="alert alert-danger">No Existing Feedback Image present</div>
						</div>
						<br>
						<br>
						<div class="file-field">
							<a class="btn-floating peach-gradient mt-0 float-left"> <i
								class="fas fa-paperclip" aria-hidden="true"></i>
							</a>
							<div class="file-path-wrapper">
								<input type="file" class="file-path validate" accept=".jpg,.png"
									name="file" id="file" onchange="validateFileType()"
									placeholder="Plese Upload File">
								<div class="text-danger">
									<h6>(Only .jpg and .png files supported)</h6>
								</div>
							</div>
						</div>
						<br> <br> <br>
						<div class="text-white align-self-center mx-auto">
							<button type="submit" class="btn btn-success">Submit
								Feedback</button>
								<a th:href="@{/viewFeedbackAdmin}" class="btn btn-success text-white">Go
						Back</a>
						</div>
						<div></div>
					</div>
				</form>
			</div>

  </div>
</body>
<script >
  $(document).ready(function() {
    $('#purpose').on('change', function() {
      if (this.value == '1') {
        $("#feedbacktext").show();
      } else {
        $("#feedbacktext").hide();
        $("#both").hide();
      }
      if (this.value == '2') {
        $("#feedbackfile").show();

      } else {
        $("#feedbackfile").hide();
        $("#both").hide();
      }if (this.value == '3') {
        $("#both").show();
        $("#feedbacktext").hide();
        $("#feedbackfile").hide();
      }
    });
  });
</script>

</html>